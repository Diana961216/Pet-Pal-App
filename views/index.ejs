<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/home.css" />
    <title>Home Page</title>
  </head>
  <body>
    <%- include('partials/_navbar') %>

    <div class="landing-container">
      <% if (!user) { %>
      <h1>Welcome to PetPal!</h1>
      <p>Your place to find and adopt loving pets.</p>
      <% } else { %>
      <h1>Welcome back, <%= user.name %>!</h1>
      <p>Ready to explore new pets today?</p>
      <a href="/pets" class="btn">View Pets</a>
      <a href="/users/<%= user._id %>" class="btn secondary-btn"
        >Your Profile</a
      >
      <% } %>
    </div>

    <h2 class="adopt">Adoptable Pets Near You</h2>
    <div class="scroll-wrapper">
      <button class="scroll-btn left" onclick="scrollLeft()">&#8592;</button>
      <div class="scroll-container">
        <ul>
          <% pets.forEach(pet => { %>
          <li>
            <strong><%= pet.name %></strong>
            (<%= pet.breeds.primary %>, <%= pet.age %>, <%= pet.gender %>) <% if
            (pet.photos && pet.photos.length > 0) { %>
            <br />
            <img src="<%= pet.photos[0].medium %>" alt="<%= pet.name %>" />
            <% } %>
          </li>
          <% }) %>
        </ul>
      </div>
      <button class="scroll-btn right" onclick="scrollRight()">&#8594;</button>
    </div>

    <script>
      function scrollLeft() {
        document
          .querySelector(".scroll-container")
          .scrollBy({ left: -300, behavior: "smooth" });
      }
      function scrollRight() {
        document
          .querySelector(".scroll-container")
          .scrollBy({ left: 300, behavior: "smooth" });
      }
    </script>
  </body>
</html>
